# schedule_api
接口路径为 `/api/v1/schedule/execute`，，返回每个时间、每个站点的 `h`（闸前水位）、`h_hat`（闸后水位）、`q`（流量）、`e`（开度）以及错误码。



# 调度任务执行接口文档

## 接口概述

该接口用于提交调度任务并获取各站点在各时间点的调度结果。客户端通过 POST 请求将调度配置和拓扑配置信息发送至服务端，服务端执行调度算法后返回结果数据。响应数据包含每个站点在各时间点的水位、流量和开度等信息，以及相应的错误码。此接口适用于需要对多站点进行统一调度计算的场景。

## 请求路径与方法

接口使用 HTTP POST 方法。请求地址如下：

* **URL**：`/api/v1/schedule/execute`
* **Method**：`POST`
* **Content-Type**：`application/json`

## 请求参数说明

请求体为 JSON 格式，包含以下字段：

* **schedule\_config**（对象）：调度任务配置对象，包括模型标识、站点配置、时间网格等信息。主要子字段：

  * `modelId`（字符串）：模型的唯一标识符，用于指定调度计算所使用的模型类型或版本。
  * `stations`（对象）：站点配置列表，以站点ID（如 `"A"`、`"B"` 等）为键，值为对应的站点配置对象。每个站点配置对象可包含以下内容：

    * `functions`（对象）：站点功能配置，例如各阶段-流量关系或成本函数等（具体定义取决于使用的模型）。
    * `inflow`（对象）：站点入流信息，表示流入该站点的水量数据（可能是按时间序列提供）。
    * `init`（对象）：站点初始状态配置，如初始水位、初始流量等起始值。
    * `ranges`（对象）：站点变量的允许取值范围，例如水位或流量的上下限。
    * `timeBounds`（对象）：站点在时间维度上的约束，例如可调度的时间窗限制。
  * `timeGrid`（对象）：时间网格配置，定义调度的时间范围和目标函数等。具体子字段包括：

    * `horizon`（字符串）：时间网格长度，表示调度的时间步数或时段总数。
    * `start`（字符串）：调度起始时间，格式为 `"YYYY-MM-DD HH:MM"`。
    * `step`（字符串）：时间步长大小，结合 `unit` 字段使用，表示每一步长的数量。
    * `unit`（字符串）：时间单位，例如 `"day"` 表示步长单位为天。
    * `objective`（对象）：目标函数配置，包含 `expr` 字段用于定义目标函数表达式。
    * `globalConstraints`（对象）：全局约束条件，用于指定跨站点或跨时间的约束。
  * `topology`（字符串）：拓扑配置文件名，用于指定调度所使用的河流或站点网络拓扑结构文件名称（例如 `"topology_river_demo.json"`）。

* **topology\_config**（数组）：站点拓扑配置列表。每个元素为一个对象，表示一个站点的拓扑属性，主要字段包括：

  * `stationId`（字符串）：站点ID，与 `schedule_config.stations` 中的键对应。
  * `stationName`（字符串）：站点名称，用于展示或描述该站点。
  * `stationType`（字符串）：站点类型，例如 `"gate"` 表示水闸，或其他类型如 `"reservoir"` 表示水库等。
  * `h`（对象）：水位约束，包含 `min` 和 `max` 字段，表示该站点水位的允许最小值和最大值。
  * `q`（对象）：流量约束，包含 `min` 和 `max` 字段，表示该站点流量的允许最小值和最大值。
  * `tuopo`（数组）：站点的下游连接信息列表。每个元素为一个对象，包含：

    * `delay_sec`（字符串）：延时，单位为秒，表示从当前站点到下游站点水量传输的时间延迟。
    * `loss`（字符串）：水损失系数，表示从当前站点到下游站点输送过程中的损失比例。
    * `to`（字符串）：下游站点ID，标识水流输送的目标站点。

## 示例请求体

下面给出一个简化的示例请求体，实际使用时可根据需求调整并补充具体的数值和字段：

```json
{
  "schedule_config": {
    "modelId": "model_001",
    "stations": {
      "A": {
        "functions": {},
        "inflow": {},
        "init": {},
        "ranges": {},
        "timeBounds": {}
      }
    },
    "timeGrid": {
      "horizon": 7,
      "start": "2025-06-16 00:00",
      "step": "1",
      "unit": "day",
      "objective": { "expr": "maximize(Q)" },
      "globalConstraints": {}
    },
    "topology": "topology_river_demo.json"
  },
  "topology_config": [
    {
      "stationId": "A",
      "stationName": "Gate A",
      "stationType": "gate",
      "h": { "min": "1.0", "max": "5.0" },
      "q": { "min": "0.0", "max": "100.0" },
      "tuopo": [
        { "delay_sec": "60", "loss": "0.05", "to": "B" }
      ]
    }
  ]
}
```

## 响应参数说明

接口返回 JSON 格式的数据。响应中包含每个站点在各时间点的调度结果。假设返回示例格式如下所示，可包含以下字段：

* **code**（字符串）：响应状态码，0 表示调度成功，非0 表示失败或出现错误。
* **message**（字符串）：对响应状态的描述信息，通常在出错时返回错误原因。
* **data**（对象）：调度结果数据。以站点ID为键，值为该站点在各时间点的结果列表。每个列表项为一个时间点的结果对象，包含：

  * `time`（字符串）：时间点，格式为 `"YYYY-MM-DD HH:MM"`。
  * `h`（字符串）：闸前水位值。
  * `h_hat`（字符串）：闸后水位值。
  * `q`（字符串）：流量值。
  * `e`（字符串）：开度值。
  * `error`（字符串）：该时间点的错误码，0 表示无错误。

## 示例响应

以下给出一个示例响应，展示返回的调度结果结构：

```json
{
  "code": "0",
  "message": "调度成功",
  "data": {
    "A": [
      { "time": "2025-06-16 00:00", "h": "3.5",  "h_hat": "3.2",  "q": "120.0", "e": "0.75"},
      { "time": "2025-06-17 00:00", "h": "3.6",  "h_hat": "3.3",  "q": "115.0", "e": "0.80"}
    ],
    "B": [
      { "time": "2025-06-16 00:00", "h": "2.8",  "h_hat": "2.6",  "q":  "80.0", "e": "0.60"},
      { "time": "2025-06-17 00:00", "h": "2.9",  "h_hat": "2.7",  "q":  "85.0", "e": "0.62"}
    ]
  }
}
```

## 错误码说明

接口可能返回以下错误码以指示不同类型的错误：

* **0**：调度执行成功，结果数据正常返回。
* **1**：请求参数错误，例如缺少必需字段或字段格式不正确。
* **2**：调度计算失败，可能由内部算法异常或数据不一致等问题引起。
* **其他**：其他未定义的错误码，对应未知错误，建议根据日志进一步排查。


完整输入示例：

```python

{'schedule_config': {'modelId': 'river_demo_opt_202506', 'stations': {'A': {'functions': {'hDownstream': 'h_hat[t]  = h_hat[t-1] + 0.001 * q_tot[t]', 'hDynamics': 'h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.001', 'qFormula': 'q[t] = 0.001 * e[t] * (h[t] - h_hat[t])'}, 'inflow': {'0': 7.82, '1': 9.64, '10': 8.14, '11': 6.32, '12': 7.99, '13': 9.61, '14': 6.15, '15': 5.87, '16': 9.48, '17': 8.0, '18': 5.62, '19': 6.76, '2': 6.47, '20': 6.1, '21': 7.38, '22': 9.17, '23': 8.73, '24': 6.97, '25': 7.88, '26': 9.39, '27': 6.51, '28': 7.24, '29': 8.33, '3': 8.1, '4': 5.93, '5': 7.41, '6': 5.55, '7': 9.2, '8': 6.88, '9': 7.73}, 'init': {'e': 0.0, 'h': 6, 'h_hat': 5.9, 'iin': 0.0, 'q': 0.0, 'q_tot_init': 0}, 'ranges': {'delta_e': {'max': 20, 'min': 0}, 'delta_h': {'max': 20, 'min': 0}, 'delta_q': {'max': 20, 'min': 0}, 'e': {'max': 3.0, 'min': 0}, 'h': {'max': 15, 'min': 5}, 'h_hat': {'max': 10, 'min': 1}, 'n': {'max': 4}, 'q': {'max': 20, 'min': 0}}, 'timeBounds': {'10': {'h': {...}, 'h_hat': {...}, 'n': {...}, 'q': {...}}, '12': {'h': {...}}}}, 'B': {'functions': {'hDownstream': 'h_hat[t]  = h_hat[t-1] + 0.002 * q_tot[t]', 'hDynamics': 'h[t] = h[t-1] + (iin[t] - q_tot[t]) *0.002', 'qFormula': 'q[t] = 0.002 * e[t] * (h[t] - h_hat[t])'}, 'inflow': {'0': 7.82, '1': 9.64, '10': 8.14, '11': 6.32, '12': 7.99, '13': 9.61, '14': 6.15, '15': 5.87, '16': 9.48, '17': 8.0, '18': 5.62, '19': 6.76, '2': 6.47, '20': 6.1, '21': 7.38, '22': 9.17, '23': 8.73, '24': 6.97, '25': 7.88, '26': 9.39, '27': 6.51, '28': 7.24, '29': 8.33, '3': 8.1, '4': 5.93, '5': 7.41, '6': 5.55, '7': 9.2, '8': 6.88, '9': 7.73}, 'init': {'e': 0.0, 'h': 6, 'h_hat': 5.9, 'iin': 0.0, 'q': 0.0, 'q_tot_init': 0}, 'ranges': {'delta_e': {'max': 20, 'min': 0}, 'delta_h': {'max': 20, 'min': 0}, 'delta_q': {'max': 20, 'min': 0}, 'e': {'max': 2.5, 'min': 0}, 'h': {'max': 12, 'min': 4}, 'h_hat': {'max': 10, 'min': 1}, 'n': {'max': 3}, 'q': {'max': 150, 'min': 0}}}, 'C': {'functions': {'hDownstream': 'h_hat[t]  = h_hat[t-1] + 0.003 * q_tot[t]', 'hDynamics': 'h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.003', 'qFormula': 'q[t] = 0.003 * e[t] * (h[t] - h_hat[t])'}, 'inflow': {'0': 7.82, '1': 9.64, '10': 8.14, '11': 6.32, '12': 7.99, '13': 9.61, '14': 6.15, '15': 5.87, '16': 9.48, '17': 8.0, '18': 5.62, '19': 6.76, '2': 6.47, '20': 6.1, '21': 7.38, '22': 9.17, '23': 8.73, '24': 6.97, '25': 7.88, '26': 9.39, '27': 6.51, '28': 7.24, '29': 8.33, '3': 8.1, '4': 5.93, '5': 7.41, '6': 5.55, '7': 9.2, '8': 6.88, '9': 7.73}, 'init': {'e': 0.0, 'h': 6, 'h_hat': 5.9, 'iin': 0.0, 'q': 0.0, 'q_tot_init': 0}, 'ranges': {'delta_e': {'max': 20, 'min': 0}, 'delta_h': {'max': 20, 'min': 0}, 'delta_q': {'max': 20, 'min': 0}, 'e': {'max': 0, 'min': 0}, 'h': {'max': 8, 'min': 2}, 'h_hat': {'max': 10, 'min': 1}, 'n': {'max': 0}, 'q': {'max': 300, 'min': 0}}}, 'D': {'functions': {'hDownstream': 'h_hat[t]  = h_hat[t-1] + 0.004 * q_tot[t]', 'hDynamics': 'h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.004', 'qFormula': 'q[t] = 0.004 * e[t] * (h[t] - h_hat[t])'}, 'inflow': {'0': 7.82, '1': 9.64, '10': 8.14, '11': 6.32, '12': 7.99, '13': 9.61, '14': 6.15, '15': 5.87, '16': 9.48, '17': 8.0, '18': 5.62, '19': 6.76, '2': 6.47, '20': 6.1, '21': 7.38, '22': 9.17, '23': 8.73, '24': 6.97, '25': 7.88, '26': 9.39, '27': 6.51, '28': 7.24, '29': 8.33, '3': 8.1, '4': 5.93, '5': 7.41, '6': 5.55, '7': 9.2, '8': 6.88, '9': 7.73}, 'init': {'e': 0.0, 'h': 6, 'h_hat': 5.9, 'iin': 0.0, 'q': 0.0, 'q_tot_init': 0}, 'ranges': {'delta_e': {'max': 20, 'min': 0}, 'delta_h': {'max': 20, 'min': 0}, 'delta_q': {'max': 20, 'min': 0}, 'e': {'max': 2.0, 'min': 0}, 'h': {'max': 10, 'min': 2}, 'h_hat': {'max': 10, 'min': 1}, 'n': {'max': 3}, 'q': {'max': 250, 'min': 0}}}, 'E': {'functions': {'hDownstream': 'h_hat[t]  = h_hat[t-1] + 0.005 * q_tot[t]', 'hDynamics': 'h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.005', 'qFormula': 'q[t] = 0.005 * e[t] * (h[t] - h_hat[t])'}, 'inflow': {'0': 7.82, '1': 9.64, '10': 8.14, '11': 6.32, '12': 7.99, '13': 9.61, '14': 6.15, '15': 5.87, '16': 9.48, '17': 8.0, '18': 5.62, '19': 6.76, '2': 6.47, '20': 6.1, '21': 7.38, '22': 9.17, '23': 8.73, '24': 6.97, '25': 7.88, '26': 9.39, '27': 6.51, '28': 7.24, '29': 8.33, '3': 8.1, '4': 5.93, '5': 7.41, '6': 5.55, '7': 9.2, '8': 6.88, '9': 7.73}, 'init': {'e': 0.0, 'h': 6, 'h_hat': 5.9, 'iin': 0.0, 'q': 0.0, 'q_tot_init': 0}, 'ranges': {'delta_e': {'max': 20, 'min': 0}, 'delta_h': {'max': 20, 'min': 0}, 'delta_q': {'max': 20, 'min': 0}, 'e': {'max': 0, 'min': 0}, 'h': {'max': 6, 'min': 2}, 'h_hat': {'max': 10, 'min': 1}, 'n': {'max': 0}, 'q': {'max': 200, 'min': 0}}}, 'F': {'functions': {'hDownstream': 'h_hat[t]  = h_hat[t-1] + 0.006 * q_tot[t]', 'hDynamics': 'h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.006', 'qFormula': 'q[t] = 0.006 * e[t] * (h[t] - h_hat[t])'}, 'inflow': {'0': 7.82, '1': 9.64, '10': 8.14, '11': 6.32, '12': 7.99, '13': 9.61, '14': 6.15, '15': 5.87, '16': 9.48, '17': 8.0, '18': 5.62, '19': 6.76, '2': 6.47, '20': 6.1, '21': 7.38, '22': 9.17, '23': 8.73, '24': 6.97, '25': 7.88, '26': 9.39, '27': 6.51, '28': 7.24, '29': 8.33, '3': 8.1, '4': 5.93, '5': 7.41, '6': 5.55, '7': 9.2, '8': 6.88, '9': 7.73}, 'init': {'e': 0.0, 'h': 6, 'h_hat': 5.9, 'iin': 0.0, 'q': 0.0, 'q_tot_init': 0}, 'ranges': {'delta_e': {'max': 20, 'min': 0}, 'delta_h': {'max': 20, 'min': 0}, 'delta_q': {'max': 20, 'min': 0}, 'e': {'max': 0, 'min': 0}, 'h': {'max': 6, 'min': 2}, 'h_hat': {'max': 10, 'min': 1}, 'n': {'max': 0}, 'q': {'max': 200, 'min': 0}}}, 'G': {'functions': {'hDownstream': 'h_hat[t]  = h_hat[t-1] + 0.007 * q_tot[t]', 'hDynamics': 'h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.007', 'qFormula': 'q[t] = 0.007 * e[t] * (h[t] - h_hat[t])'}, 'inflow': {'0': 7.82, '1': 9.64, '10': 8.14, '11': 6.32, '12': 7.99, '13': 9.61, '14': 6.15, '15': 5.87, '16': 9.48, '17': 8.0, '18': 5.62, '19': 6.76, '2': 6.47, '20': 6.1, '21': 7.38, '22': 9.17, '23': 8.73, '24': 6.97, '25': 7.88, '26': 9.39, '27': 6.51, '28': 7.24, '29': 8.33, '3': 8.1, '4': 5.93, '5': 7.41, '6': 5.55, '7': 9.2, '8': 6.88, '9': 7.73}, 'init': {'e': 0.0, 'h': 6, 'h_hat': 5.9, 'iin': 0.0, 'q': 0.0, 'q_tot_init': 0}, 'ranges': {'delta_e': {'max': 20, 'min': 0}, 'delta_h': {'max': 20, 'min': 0}, 'delta_q': {'max': 20, 'min': 0}, 'e': {'max': 0, 'min': 0}, 'h': {'max': 5, 'min': 0}, 'h_hat': {'max': 10, 'min': 1}, 'n': {'max': 0}, 'q': {'max': 80, 'min': 0}}}, 'H': {'functions': {'hDownstream': 'h_hat[t]  = h_hat[t-1] + 0.008 * q_tot[t]', 'hDynamics': 'h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.008', 'qFormula': 'q[t] = 0.008 * e[t] * (h[t] - h_hat[t])'}, 'inflow': {'0': 7.82, '1': 9.64, '10': 8.14, '11': 6.32, '12': 7.99, '13': 9.61, '14': 6.15, '15': 5.87, '16': 9.48, '17': 8.0, '18': 5.62, '19': 6.76, '2': 6.47, '20': 6.1, '21': 7.38, '22': 9.17, '23': 8.73, '24': 6.97, '25': 7.88, '26': 9.39, '27': 6.51, '28': 7.24, '29': 8.33, '3': 8.1, '4': 5.93, '5': 7.41, '6': 5.55, '7': 9.2, '8': 6.88, '9': 7.73}, 'init': {'e': 0.0, 'h': 6, 'h_hat': 5.9, 'iin': 0.0, 'q': 0.0, 'q_tot_init': 0}, 'ranges': {'delta_e': {'max': 20, 'min': 0}, 'delta_h': {'max': 20, 'min': 0}, 'delta_q': {'max': 20, 'min': 0}, 'e': {'max': 0, 'min': 0}, 'h': {'max': 5, 'min': 0}, 'h_hat': {'max': 10, 'min': 1}, 'n': {'max': 0}, 'q': {'max': 80, 'min': 0}}}, 'I': {'functions': {'hDownstream': 'h_hat[t]  = h_hat[t-1] + 0.009 * q_tot[t]', 'hDynamics': 'h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.009', 'qFormula': 'q[t] = 0.009 * e[t] * (h[t] - h_hat[t])'}, 'inflow': {'0': 7.82, '1': 9.64, '10': 8.14, '11': 6.32, '12': 7.99, '13': 9.61, '14': 6.15, '15': 5.87, '16': 9.48, '17': 8.0, '18': 5.62, '19': 6.76, '2': 6.47, '20': 6.1, '21': 7.38, '22': 9.17, '23': 8.73, '24': 6.97, '25': 7.88, '26': 9.39, '27': 6.51, '28': 7.24, '29': 8.33, '3': 8.1, '4': 5.93, '5': 7.41, '6': 5.55, '7': 9.2, '8': 6.88, '9': 7.73}, 'init': {'e': 0.0, 'h': 6, 'h_hat': 5.9, 'iin': 0.0, 'q': 0.0, 'q_tot_init': 0}, 'ranges': {'delta_e': {'max': 20, 'min': 0}, 'delta_h': {'max': 20, 'min': 0}, 'delta_q': {'max': 20, 'min': 0}, 'e': {'max': 0, 'min': 0}, 'h': {'max': 8, 'min': 1}, 'h_hat': {'max': 10, 'min': 1}, 'n': {'max': 0}, 'q': {'max': 50, 'min': 0}}}, 'J': {'functions': {'hDownstream': 'h_hat[t]  = h_hat[t-1] + 0.01 * q_tot[t]', 'hDynamics': 'h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.01', 'qFormula': 'q[t] = 0.01 * e[t] * (h[t] - h_hat[t])'}, 'inflow': {'0': 7.82, '1': 9.64, '10': 8.14, '11': 6.32, '12': 7.99, '13': 9.61, '14': 6.15, '15': 5.87, '16': 9.48, '17': 8.0, '18': 5.62, '19': 6.76, '2': 6.47, '20': 6.1, '21': 7.38, '22': 9.17, '23': 8.73, '24': 6.97, '25': 7.88, '26': 9.39, '27': 6.51, '28': 7.24, '29': 8.33, '3': 8.1, '4': 5.93, '5': 7.41, '6': 5.55, '7': 9.2, '8': 6.88, '9': 7.73}, 'init': {'e': 0.0, 'h': 6, 'h_hat': 5.9, 'iin': 0.0, 'q': 0.0, 'q_tot_init': 0}, 'ranges': {'delta_e': {'max': 20, 'min': 0}, 'delta_h': {'max': 20, 'min': 0}, 'delta_q': {'max': 20, 'min': 0}, 'e': {'max': 2.0, 'min': 0}, 'h': {'max': 10, 'min': 1}, 'h_hat': {'max': 10, 'min': 1}, 'n': {'max': 2}, 'q': {'max': 60, 'min': 0}}}, 'K': {'functions': {'hDownstream': 'h_hat[t]  = h_hat[t-1] + 0.011 * q_tot[t]', 'hDynamics': 'h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.011', 'qFormula': 'q[t] = 0.011 * e[t] * (h[t] - h_hat[t])'}, 'inflow': {'0': 7.82, '1': 9.64, '10': 8.14, '11': 6.32, '12': 7.99, '13': 9.61, '14': 6.15, '15': 5.87, '16': 9.48, '17': 8.0, '18': 5.62, '19': 6.76, '2': 6.47, '20': 6.1, '21': 7.38, '22': 9.17, '23': 8.73, '24': 6.97, '25': 7.88, '26': 9.39, '27': 6.51, '28': 7.24, '29': 8.33, '3': 8.1, '4': 5.93, '5': 7.41, '6': 5.55, '7': 9.2, '8': 6.88, '9': 7.73}, 'init': {'e': 0.0, 'h': 6, 'h_hat': 5.9, 'iin': 0.0, 'q': 0.0, 'q_tot_init': 0}, 'ranges': {'delta_e': {'max': 20, 'min': 0}, 'delta_h': {'max': 20, 'min': 0}, 'delta_q': {'max': 20, 'min': 0}, 'e': {'max': 2.0, 'min': 0}, 'h': {'max': 10, 'min': 1}, 'h_hat': {'max': 10, 'min': 1}, 'n': {'max': 2}, 'q': {'max': 70, 'min': 0}}}, 'L': {'functions': {'hDownstream': 'h_hat[t]  = h_hat[t-1] + 0.012 * q_tot[t]', 'hDynamics': 'h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.012', 'qFormula': 'q[t] = 0.012 * e[t] * (h[t] - h_hat[t])'}, 'inflow': {'0': 7.82, '1': 9.64, '10': 8.14, '11': 6.32, '12': 7.99, '13': 9.61, '14': 6.15, '15': 5.87, '16': 9.48, '17': 8.0, '18': 5.62, '19': 6.76, '2': 6.47, '20': 6.1, '21': 7.38, '22': 9.17, '23': 8.73, '24': 6.97, '25': 7.88, '26': 9.39, '27': 6.51, '28': 7.24, '29': 8.33, '3': 8.1, '4': 5.93, '5': 7.41, '6': 5.55, '7': 9.2, '8': 6.88, '9': 7.73}, 'init': {'e': 0.0, 'h': 6, 'h_hat': 5.9, 'iin': 0.0, 'q': 0.0, 'q_tot_init': 0}, 'ranges': {'delta_e': {'max': 20, 'min': 0}, 'delta_h': {'max': 20, 'min': 0}, 'delta_q': {'max': 20, 'min': 0}, 'e': {'max': 0, 'min': 0}, 'h': {'max': 15, 'min': 2}, 'h_hat': {'max': 10, 'min': 1}, 'n': {'max': 0}, 'q': {'max': 100, 'min': 0}}}}, 'timeGrid': {'globalConstraints': {}, 'horizon': 30, 'objective': {'expr': 'sum_t( sum_i q_tot[i,t] - Q_target[t] )^2'}, 'start': '2025-06-01 00:00', 'step': 1, 'unit': 'day'}, 'topology': 'topology_river_demo.json'}, 'topology_config': [{'h': {'max': 15, 'min': 5}, 'q': {'max': 200, 'min': 0}, 'stationId': 'A', 'stationName': '闸站A', 'stationType': 'gate', 'tuopo': [{'delay_sec': 600, 'loss': 1.0, 'to': 'B'}]}, {'h': {'max': 12, 'min': 4}, 'q': {'max': 150, 'min': 0}, 'stationId': 'B', 'stationName': '闸站B', 'stationType': 'gate', 'tuopo': [{'delay_sec': 600, 'loss': 1.0, 'to': 'C'}]}, {'h': {'max': 12, 'min': 4}, 'q': {'max': 150, 'min': 0}, 'stationId': 'C', 'stationName': '闸站C', 'stationType': 'gate', 'tuopo': [{'delay_sec': 600, 'loss': 1.0, 'to': 'D'}]}, {'h': {'max': 6, 'min': 2}, 'q': {'max': 200, 'min': 0}, 'stationId': 'D', 'stationName': '闸站D', 'stationType': 'gate', 'tuopo': [{'delay_sec': 300, 'loss': 1.0, 'to': 'E'}]}, {'h': {'max': 6, 'min': 2}, 'q': {'max': 200, 'min': 0}, 'stationId': 'E', 'stationName': '闸站E', 'stationType': 'gate', 'tuopo': [{'delay_sec': 300, 'loss': 1.0, 'to': 'F'}]}, {'h': {'max': 8, 'min': 2}, 'q': {'max': 300, 'min': 0}, 'stationId': 'F', 'stationName': '闸站F', 'stationType': 'gate', 'tuopo': [{'delay_sec': 300, 'loss': 1.0, 'to': 'G'}]}, {'h': {'max': 10, 'min': 2}, 'q': {'max': 250, 'min': 0}, 'stationId': 'G', 'stationName': '闸站G', 'stationType': 'gate', 'tuopo': [{'delay_sec': 300, 'loss': 0.99, 'to': 'H'}]}, {'h': {'max': 12, 'min': 4}, 'q': {'max': 150, 'min': 0}, 'stationId': 'H', 'stationName': '闸站H', 'stationType': 'gate', 'tuopo': [{'delay_sec': 600, 'loss': 1.0, 'to': 'I'}]}, {'h': {'max': 10, 'min': 0}, 'q': {'max': 999, 'min': 0}, 'stationId': 'I', 'stationName': '闸站I', 'stationType': 'gate', 'tuopo': [{'delay_sec': 300, 'loss': 0.99, 'to': 'J'}]}, {'h': {'max': 10, 'min': 0}, 'q': {'max': 999, 'min': 0}, 'stationId': 'J', 'stationName': '闸站J', 'stationType': 'gate', 'tuopo': [{'delay_sec': 300, 'loss': 0.99, 'to': 'K'}]}, {'h': {'max': 5, 'min': 0}, 'q': {'max': 80, 'min': 0}, 'stationId': 'K', 'stationName': '闸站K', 'stationType': 'gate', 'tuopo': [{'delay_sec': 300, 'loss': 0.99, 'to': 'L'}]}, {'h': {'max': 5, 'min': 0}, 'q': {'max': 80, 'min': 0}, 'stationId': 'L', 'stationName': '闸站L', 'stationType': 'gate', 'tuopo': []}]}

```

