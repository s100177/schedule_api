# schedule_api
接口路径为 `/api/v1/schedule/execute`，，返回每个时间、每个站点的 `h`（闸前水位）、`h_hat`（闸后水位）、`q`（流量）、`e`（开度）以及错误码。



# 调度任务执行接口文档

## 接口概述

该接口用于提交调度任务并获取各站点在各时间点的调度结果。客户端通过 POST 请求将调度配置和拓扑配置信息发送至服务端，服务端执行调度算法后返回结果数据。响应数据包含每个站点在各时间点的水位、流量和开度等信息，以及相应的错误码。此接口适用于需要对多站点进行统一调度计算的场景。

## 请求路径与方法

接口使用 HTTP POST 方法。请求地址如下：

* **URL**：`/api/v1/schedule/execute`
* **Method**：`POST`
* **Content-Type**：`application/json`

## 请求参数说明

请求体为 JSON 格式，包含以下字段：

* **schedule\_config**（对象）：调度任务配置对象，包括模型标识、站点配置、时间网格等信息。主要子字段：

  * `modelId`（字符串）：模型的唯一标识符，用于指定调度计算所使用的模型类型或版本。
  * `method`（字符串）：算法。

算法选项：

| 模式         | 描述             |
| ---------- | -------------- |
| `simplex`  | 单纯形法（默认），可不传该字段       |
| `interior` | 内点法（仅 LP）      |
| `mip`      | 分支定界法（用于 MILP） |


  * `stations`（对象）：站点配置列表，以站点ID（如 `"A"`、`"B"` 等）为键，值为对应的站点配置对象。每个站点配置对象可包含以下内容：

    * `functions`（对象）：站点功能配置，例如各阶段-流量关系或成本函数等（具体定义取决于使用的模型）。
    * `inflow`（对象）：站点入流信息，表示流入该站点的水量数据（可能是按时间序列提供）。
    * `init`（对象）：站点初始状态配置，如初始水位、初始流量等起始值。
    * `ranges`（对象）：站点变量的允许取值范围，例如水位或流量的上下限。
    * `timeBounds`（对象）：站点在时间维度上的约束，例如可调度的时间窗限制。
  * `timeGrid`（对象）：时间网格配置，定义调度的时间范围和目标函数等。具体子字段包括：

    * `horizon`（字符串）：时间网格长度，表示调度的时间步数或时段总数。
    * `start`（字符串）：调度起始时间，格式为 `"YYYY-MM-DD HH:MM"`。
    * `step`（字符串）：时间步长大小，结合 `unit` 字段使用，表示每一步长的数量。
    * `unit`（字符串）：时间单位，例如 `"day"` 表示步长单位为天。
    * `objective`（对象）：目标函数配置，包含 `expr` 字段用于定义目标函数表达式。
    * `globalConstraints`（对象）：全局约束条件，用于指定跨站点或跨时间的约束。
  * `topology`（字符串）：拓扑配置文件名，用于指定调度所使用的河流或站点网络拓扑结构文件名称（例如 `"topology_river_demo.json"`）。

* **topology\_config**（数组）：站点拓扑配置列表。每个元素为一个对象，表示一个站点的拓扑属性，主要字段包括：

  * `stationId`（字符串）：站点ID，与 `schedule_config.stations` 中的键对应。
  * `stationName`（字符串）：站点名称，用于展示或描述该站点。
  * `stationType`（字符串）：站点类型，例如 `"gate"` 表示水闸，或其他类型如 `"reservoir"` 表示水库等。
  * `h`（对象）：水位约束，包含 `min` 和 `max` 字段，表示该站点水位的允许最小值和最大值。
  * `q`（对象）：流量约束，包含 `min` 和 `max` 字段，表示该站点流量的允许最小值和最大值。
  * `tuopo`（数组）：站点的下游连接信息列表。每个元素为一个对象，包含：

    * `delay_sec`（字符串）：延时，单位为秒，表示从当前站点到下游站点水量传输的时间延迟。
    * `loss`（字符串）：水损失系数，表示从当前站点到下游站点输送过程中的损失比例。
    * `to`（字符串）：下游站点ID，标识水流输送的目标站点。

## 示例请求体

下面给出一个简化的示例请求体，实际使用时可根据需求调整并补充具体的数值和字段：

```json
{
  "schedule_config": {
    "modelId": "model_001",
    "method":""
    "stations": {
      "A": {
        "functions": {},
        "inflow": {},
        "init": {},
        "ranges": {},
        "timeBounds": {}
      }
    },
    "timeGrid": {
      "horizon": 7,
      "start": "2025-06-16 00:00",
      "step": "1",
      "unit": "day",
      "objective": { "expr": "maximize(Q)" },
      "globalConstraints": {},
    },
    "topology": "topology_river_demo.json"
  },
  "topology_config": [
    {
      "stationId": "A",
      "stationName": "Gate A",
      "stationType": "gate",
      "h": { "min": "1.0", "max": "5.0" },
      "q": { "min": "0.0", "max": "100.0" },
      "tuopo": [
        { "delay_sec": "60", "loss": "0.05", "to": "B" }
      ]
    }
  ]
}
```

## 响应参数说明

接口返回 JSON 格式的数据。响应中包含每个站点在各时间点的调度结果。假设返回示例格式如下所示，可包含以下字段：

* **code**（字符串）：响应状态码，0 表示调度成功，非0 表示失败或出现错误。
* **message**（字符串）：对响应状态的描述信息，通常在出错时返回错误原因。
* **data**（对象）：调度结果数据。以站点ID为键，值为该站点在各时间点的结果列表。每个列表项为一个时间点的结果对象，包含：

  * `time`（字符串）：时间点，格式为 `"YYYY-MM-DD HH:MM"`。
  * `h`（字符串）：闸前水位值。
  * `h_hat`（字符串）：闸后水位值。
  * `q`（字符串）：流量值。
  * `e`（字符串）：开度值。
  * `error`（字符串）：该时间点的错误码，0 表示无错误。

## 示例响应

以下给出一个示例响应，展示返回的调度结果结构：

```json
{
  "code": "0",
  "message": "调度成功",
  "data": {
    "A": [
      { "time": "2025-06-16 00:00", "h": "3.5",  "h_hat": "3.2",  "q": "120.0", "e": "0.75"},
      { "time": "2025-06-17 00:00", "h": "3.6",  "h_hat": "3.3",  "q": "115.0", "e": "0.80"}
    ],
    "B": [
      { "time": "2025-06-16 00:00", "h": "2.8",  "h_hat": "2.6",  "q":  "80.0", "e": "0.60"},
      { "time": "2025-06-17 00:00", "h": "2.9",  "h_hat": "2.7",  "q":  "85.0", "e": "0.62"}
    ]
  }
}
```

## 错误码说明

接口可能返回以下错误码以指示不同类型的错误：

* **0**：调度执行成功，结果数据正常返回。
* **1**：请求参数错误，例如缺少必需字段或字段格式不正确。
* **2**：调度计算失败，可能由内部算法异常或数据不一致等问题引起。
* **其他**：其他未定义的错误码，对应未知错误，建议根据日志进一步排查。


完整输入示例：

```python

{
  "schedule_config": {
    "modelId": "river_demo_opt_202506",
    "topology": "topology_river_demo.json",
    "timeGrid": {
      "start": "2025-06-01 00:00",
      "unit": "day",
      "step": 1,
      "horizon": 30,
      "objective": {
        "expr": "sum_t( sum_i q_tot[i,t] - Q_target[t] )^2"
      },
      "globalConstraints": {}
    },
    "stations": {
      "A": {
        "ranges": {
          "h": {
            "min": 5,
            "max": 15
          },
          "h_hat": {
            "min": 1,
            "max": 10
          },
          "q": {
            "min": 0,
            "max": 20
          },
          "e": {
            "min": 0,
            "max": 3.0
          },
          "n": {
            "max": 4
          },
          "delta_q": {
            "min": 0,
            "max": 20
          },
          "delta_h": {
            "min": 0,
            "max": 20
          },
          "delta_e": {
            "min": 0,
            "max": 20
          }
        },
        "functions": {
          "hDynamics": "h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.001",
          "hDownstream": "h_hat[t]  = h_hat[t-1] + 0.001 * q_tot[t]",
          "qFormula": "q[t] = 0.001 * e[t] * (h[t] - h_hat[t])"
        },
        "init": {
          "q_tot_init": 0,
          "h": 6,
          "h_hat": 5.9,
          "e": 0.0,
          "q": 0.0,
          "iin": 0.0
        },
        "timeBounds": {
          "10": {
            "h": {
              "min": 8,
              "max": 9
            },
            "h_hat": {
              "min": 1,
              "max": 10
            },
            "q": {
              "min": 0,
              "max": 200
            },
            "n": {
              "min": 2,
              "max": 4
            }
          },
          "12": {
            "h": {
              "min": 8,
              "max": 9
            }
          }
        },
        "inflow": {
          "0": 7.82,
          "1": 9.64,
          "2": 6.47,
          "3": 8.1,
          "4": 5.93,
          "5": 7.41,
          "6": 5.55,
          "7": 9.2,
          "8": 6.88,
          "9": 7.73,
          "10": 8.14,
          "11": 6.32,
          "12": 7.99,
          "13": 9.61,
          "14": 6.15,
          "15": 5.87,
          "16": 9.48,
          "17": 8.0,
          "18": 5.62,
          "19": 6.76,
          "20": 6.1,
          "21": 7.38,
          "22": 9.17,
          "23": 8.73,
          "24": 6.97,
          "25": 7.88,
          "26": 9.39,
          "27": 6.51,
          "28": 7.24,
          "29": 8.33
        }
      },
      "B": {
        "ranges": {
          "h": {
            "min": 4,
            "max": 12
          },
          "h_hat": {
            "min": 1,
            "max": 10
          },
          "q": {
            "min": 0,
            "max": 150
          },
          "e": {
            "min": 0,
            "max": 2.5
          },
          "n": {
            "max": 3
          },
          "delta_q": {
            "min": 0,
            "max": 20
          },
          "delta_h": {
            "min": 0,
            "max": 20
          },
          "delta_e": {
            "min": 0,
            "max": 20
          }
        },
        "functions": {
          "hDynamics": "h[t] = h[t-1] + (iin[t] - q_tot[t]) *0.002",
          "hDownstream": "h_hat[t]  = h_hat[t-1] + 0.002 * q_tot[t]",
          "qFormula": "q[t] = 0.002 * e[t] * (h[t] - h_hat[t])"
        },
        "init": {
          "q_tot_init": 0,
          "h": 6,
          "h_hat": 5.9,
          "e": 0.0,
          "q": 0.0,
          "iin": 0.0
        },
        "inflow": {
          "0": 7.82,
          "1": 9.64,
          "2": 6.47,
          "3": 8.1,
          "4": 5.93,
          "5": 7.41,
          "6": 5.55,
          "7": 9.2,
          "8": 6.88,
          "9": 7.73,
          "10": 8.14,
          "11": 6.32,
          "12": 7.99,
          "13": 9.61,
          "14": 6.15,
          "15": 5.87,
          "16": 9.48,
          "17": 8.0,
          "18": 5.62,
          "19": 6.76,
          "20": 6.1,
          "21": 7.38,
          "22": 9.17,
          "23": 8.73,
          "24": 6.97,
          "25": 7.88,
          "26": 9.39,
          "27": 6.51,
          "28": 7.24,
          "29": 8.33
        }
      },
      "C": {
        "ranges": {
          "h": {
            "min": 2,
            "max": 8
          },
          "h_hat": {
            "min": 1,
            "max": 10
          },
          "q": {
            "min": 0,
            "max": 300
          },
          "e": {
            "min": 0,
            "max": 0
          },
          "n": {
            "max": 0
          },
          "delta_q": {
            "min": 0,
            "max": 20
          },
          "delta_h": {
            "min": 0,
            "max": 20
          },
          "delta_e": {
            "min": 0,
            "max": 20
          }
        },
        "functions": {
          "hDynamics": "h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.003",
          "hDownstream": "h_hat[t]  = h_hat[t-1] + 0.003 * q_tot[t]",
          "qFormula": "q[t] = 0.003 * e[t] * (h[t] - h_hat[t])"
        },
        "init": {
          "q_tot_init": 0,
          "h": 6,
          "h_hat": 5.9,
          "e": 0.0,
          "q": 0.0,
          "iin": 0.0
        },
        "inflow": {
          "0": 7.82,
          "1": 9.64,
          "2": 6.47,
          "3": 8.1,
          "4": 5.93,
          "5": 7.41,
          "6": 5.55,
          "7": 9.2,
          "8": 6.88,
          "9": 7.73,
          "10": 8.14,
          "11": 6.32,
          "12": 7.99,
          "13": 9.61,
          "14": 6.15,
          "15": 5.87,
          "16": 9.48,
          "17": 8.0,
          "18": 5.62,
          "19": 6.76,
          "20": 6.1,
          "21": 7.38,
          "22": 9.17,
          "23": 8.73,
          "24": 6.97,
          "25": 7.88,
          "26": 9.39,
          "27": 6.51,
          "28": 7.24,
          "29": 8.33
        }
      },
      "D": {
        "ranges": {
          "h": {
            "min": 2,
            "max": 10
          },
          "h_hat": {
            "min": 1,
            "max": 10
          },
          "q": {
            "min": 0,
            "max": 250
          },
          "e": {
            "min": 0,
            "max": 2.0
          },
          "n": {
            "max": 3
          },
          "delta_q": {
            "min": 0,
            "max": 20
          },
          "delta_h": {
            "min": 0,
            "max": 20
          },
          "delta_e": {
            "min": 0,
            "max": 20
          }
        },
        "functions": {
          "hDynamics": "h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.004",
          "hDownstream": "h_hat[t]  = h_hat[t-1] + 0.004 * q_tot[t]",
          "qFormula": "q[t] = 0.004 * e[t] * (h[t] - h_hat[t])"
        },
        "init": {
          "q_tot_init": 0,
          "h": 6,
          "h_hat": 5.9,
          "e": 0.0,
          "q": 0.0,
          "iin": 0.0
        },
        "inflow": {
          "0": 7.82,
          "1": 9.64,
          "2": 6.47,
          "3": 8.1,
          "4": 5.93,
          "5": 7.41,
          "6": 5.55,
          "7": 9.2,
          "8": 6.88,
          "9": 7.73,
          "10": 8.14,
          "11": 6.32,
          "12": 7.99,
          "13": 9.61,
          "14": 6.15,
          "15": 5.87,
          "16": 9.48,
          "17": 8.0,
          "18": 5.62,
          "19": 6.76,
          "20": 6.1,
          "21": 7.38,
          "22": 9.17,
          "23": 8.73,
          "24": 6.97,
          "25": 7.88,
          "26": 9.39,
          "27": 6.51,
          "28": 7.24,
          "29": 8.33
        }
      },
      "E": {
        "ranges": {
          "h": {
            "min": 2,
            "max": 6
          },
          "h_hat": {
            "min": 1,
            "max": 10
          },
          "q": {
            "min": 0,
            "max": 200
          },
          "e": {
            "min": 0,
            "max": 0
          },
          "n": {
            "max": 0
          },
          "delta_q": {
            "min": 0,
            "max": 20
          },
          "delta_h": {
            "min": 0,
            "max": 20
          },
          "delta_e": {
            "min": 0,
            "max": 20
          }
        },
        "functions": {
          "hDynamics": "h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.005",
          "hDownstream": "h_hat[t]  = h_hat[t-1] + 0.005 * q_tot[t]",
          "qFormula": "q[t] = 0.005 * e[t] * (h[t] - h_hat[t])"
        },
        "init": {
          "q_tot_init": 0,
          "h": 6,
          "h_hat": 5.9,
          "e": 0.0,
          "q": 0.0,
          "iin": 0.0
        },
        "inflow": {
          "0": 7.82,
          "1": 9.64,
          "2": 6.47,
          "3": 8.1,
          "4": 5.93,
          "5": 7.41,
          "6": 5.55,
          "7": 9.2,
          "8": 6.88,
          "9": 7.73,
          "10": 8.14,
          "11": 6.32,
          "12": 7.99,
          "13": 9.61,
          "14": 6.15,
          "15": 5.87,
          "16": 9.48,
          "17": 8.0,
          "18": 5.62,
          "19": 6.76,
          "20": 6.1,
          "21": 7.38,
          "22": 9.17,
          "23": 8.73,
          "24": 6.97,
          "25": 7.88,
          "26": 9.39,
          "27": 6.51,
          "28": 7.24,
          "29": 8.33
        }
      },
      "F": {
        "ranges": {
          "h": {
            "min": 2,
            "max": 6
          },
          "h_hat": {
            "min": 1,
            "max": 10
          },
          "q": {
            "min": 0,
            "max": 200
          },
          "e": {
            "min": 0,
            "max": 0
          },
          "n": {
            "max": 0
          },
          "delta_q": {
            "min": 0,
            "max": 20
          },
          "delta_h": {
            "min": 0,
            "max": 20
          },
          "delta_e": {
            "min": 0,
            "max": 20
          }
        },
        "functions": {
          "hDynamics": "h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.006",
          "hDownstream": "h_hat[t]  = h_hat[t-1] + 0.006 * q_tot[t]",
          "qFormula": "q[t] = 0.006 * e[t] * (h[t] - h_hat[t])"
        },
        "init": {
          "q_tot_init": 0,
          "h": 6,
          "h_hat": 5.9,
          "e": 0.0,
          "q": 0.0,
          "iin": 0.0
        },
        "inflow": {
          "0": 7.82,
          "1": 9.64,
          "2": 6.47,
          "3": 8.1,
          "4": 5.93,
          "5": 7.41,
          "6": 5.55,
          "7": 9.2,
          "8": 6.88,
          "9": 7.73,
          "10": 8.14,
          "11": 6.32,
          "12": 7.99,
          "13": 9.61,
          "14": 6.15,
          "15": 5.87,
          "16": 9.48,
          "17": 8.0,
          "18": 5.62,
          "19": 6.76,
          "20": 6.1,
          "21": 7.38,
          "22": 9.17,
          "23": 8.73,
          "24": 6.97,
          "25": 7.88,
          "26": 9.39,
          "27": 6.51,
          "28": 7.24,
          "29": 8.33
        }
      },
      "G": {
        "ranges": {
          "h": {
            "min": 0,
            "max": 5
          },
          "h_hat": {
            "min": 1,
            "max": 10
          },
          "q": {
            "min": 0,
            "max": 80
          },
          "e": {
            "min": 0,
            "max": 0
          },
          "n": {
            "max": 0
          },
          "delta_q": {
            "min": 0,
            "max": 20
          },
          "delta_h": {
            "min": 0,
            "max": 20
          },
          "delta_e": {
            "min": 0,
            "max": 20
          }
        },
        "functions": {
          "hDynamics": "h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.007",
          "hDownstream": "h_hat[t]  = h_hat[t-1] + 0.007 * q_tot[t]",
          "qFormula": "q[t] = 0.007 * e[t] * (h[t] - h_hat[t])"
        },
        "init": {
          "q_tot_init": 0,
          "h": 6,
          "h_hat": 5.9,
          "e": 0.0,
          "q": 0.0,
          "iin": 0.0
        },
        "inflow": {
          "0": 7.82,
          "1": 9.64,
          "2": 6.47,
          "3": 8.1,
          "4": 5.93,
          "5": 7.41,
          "6": 5.55,
          "7": 9.2,
          "8": 6.88,
          "9": 7.73,
          "10": 8.14,
          "11": 6.32,
          "12": 7.99,
          "13": 9.61,
          "14": 6.15,
          "15": 5.87,
          "16": 9.48,
          "17": 8.0,
          "18": 5.62,
          "19": 6.76,
          "20": 6.1,
          "21": 7.38,
          "22": 9.17,
          "23": 8.73,
          "24": 6.97,
          "25": 7.88,
          "26": 9.39,
          "27": 6.51,
          "28": 7.24,
          "29": 8.33
        }
      },
      "H": {
        "ranges": {
          "h": {
            "min": 0,
            "max": 5
          },
          "h_hat": {
            "min": 1,
            "max": 10
          },
          "q": {
            "min": 0,
            "max": 80
          },
          "e": {
            "min": 0,
            "max": 0
          },
          "n": {
            "max": 0
          },
          "delta_q": {
            "min": 0,
            "max": 20
          },
          "delta_h": {
            "min": 0,
            "max": 20
          },
          "delta_e": {
            "min": 0,
            "max": 20
          }
        },
        "functions": {
          "hDynamics": "h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.008",
          "hDownstream": "h_hat[t]  = h_hat[t-1] + 0.008 * q_tot[t]",
          "qFormula": "q[t] = 0.008 * e[t] * (h[t] - h_hat[t])"
        },
        "init": {
          "q_tot_init": 0,
          "h": 6,
          "h_hat": 5.9,
          "e": 0.0,
          "q": 0.0,
          "iin": 0.0
        },
        "inflow": {
          "0": 7.82,
          "1": 9.64,
          "2": 6.47,
          "3": 8.1,
          "4": 5.93,
          "5": 7.41,
          "6": 5.55,
          "7": 9.2,
          "8": 6.88,
          "9": 7.73,
          "10": 8.14,
          "11": 6.32,
          "12": 7.99,
          "13": 9.61,
          "14": 6.15,
          "15": 5.87,
          "16": 9.48,
          "17": 8.0,
          "18": 5.62,
          "19": 6.76,
          "20": 6.1,
          "21": 7.38,
          "22": 9.17,
          "23": 8.73,
          "24": 6.97,
          "25": 7.88,
          "26": 9.39,
          "27": 6.51,
          "28": 7.24,
          "29": 8.33
        }
      },
      "I": {
        "ranges": {
          "h": {
            "min": 1,
            "max": 8
          },
          "h_hat": {
            "min": 1,
            "max": 10
          },
          "q": {
            "min": 0,
            "max": 50
          },
          "e": {
            "min": 0,
            "max": 0
          },
          "n": {
            "max": 0
          },
          "delta_q": {
            "min": 0,
            "max": 20
          },
          "delta_h": {
            "min": 0,
            "max": 20
          },
          "delta_e": {
            "min": 0,
            "max": 20
          }
        },
        "functions": {
          "hDynamics": "h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.009",
          "hDownstream": "h_hat[t]  = h_hat[t-1] + 0.009 * q_tot[t]",
          "qFormula": "q[t] = 0.009 * e[t] * (h[t] - h_hat[t])"
        },
        "init": {
          "q_tot_init": 0,
          "h": 6,
          "h_hat": 5.9,
          "e": 0.0,
          "q": 0.0,
          "iin": 0.0
        },
        "inflow": {
          "0": 7.82,
          "1": 9.64,
          "2": 6.47,
          "3": 8.1,
          "4": 5.93,
          "5": 7.41,
          "6": 5.55,
          "7": 9.2,
          "8": 6.88,
          "9": 7.73,
          "10": 8.14,
          "11": 6.32,
          "12": 7.99,
          "13": 9.61,
          "14": 6.15,
          "15": 5.87,
          "16": 9.48,
          "17": 8.0,
          "18": 5.62,
          "19": 6.76,
          "20": 6.1,
          "21": 7.38,
          "22": 9.17,
          "23": 8.73,
          "24": 6.97,
          "25": 7.88,
          "26": 9.39,
          "27": 6.51,
          "28": 7.24,
          "29": 8.33
        }
      },
      "J": {
        "ranges": {
          "h": {
            "min": 1,
            "max": 10
          },
          "h_hat": {
            "min": 1,
            "max": 10
          },
          "q": {
            "min": 0,
            "max": 60
          },
          "e": {
            "min": 0,
            "max": 2.0
          },
          "n": {
            "max": 2
          },
          "delta_q": {
            "min": 0,
            "max": 20
          },
          "delta_h": {
            "min": 0,
            "max": 20
          },
          "delta_e": {
            "min": 0,
            "max": 20
          }
        },
        "functions": {
          "hDynamics": "h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.01",
          "hDownstream": "h_hat[t]  = h_hat[t-1] + 0.01 * q_tot[t]",
          "qFormula": "q[t] = 0.01 * e[t] * (h[t] - h_hat[t])"
        },
        "init": {
          "q_tot_init": 0,
          "h": 6,
          "h_hat": 5.9,
          "e": 0.0,
          "q": 0.0,
          "iin": 0.0
        },
        "inflow": {
          "0": 7.82,
          "1": 9.64,
          "2": 6.47,
          "3": 8.1,
          "4": 5.93,
          "5": 7.41,
          "6": 5.55,
          "7": 9.2,
          "8": 6.88,
          "9": 7.73,
          "10": 8.14,
          "11": 6.32,
          "12": 7.99,
          "13": 9.61,
          "14": 6.15,
          "15": 5.87,
          "16": 9.48,
          "17": 8.0,
          "18": 5.62,
          "19": 6.76,
          "20": 6.1,
          "21": 7.38,
          "22": 9.17,
          "23": 8.73,
          "24": 6.97,
          "25": 7.88,
          "26": 9.39,
          "27": 6.51,
          "28": 7.24,
          "29": 8.33
        }
      },
      "K": {
        "ranges": {
          "h": {
            "min": 1,
            "max": 10
          },
          "h_hat": {
            "min": 1,
            "max": 10
          },
          "q": {
            "min": 0,
            "max": 70
          },
          "e": {
            "min": 0,
            "max": 2.0
          },
          "n": {
            "max": 2
          },
          "delta_q": {
            "min": 0,
            "max": 20
          },
          "delta_h": {
            "min": 0,
            "max": 20
          },
          "delta_e": {
            "min": 0,
            "max": 20
          }
        },
        "functions": {
          "hDynamics": "h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.011",
          "hDownstream": "h_hat[t]  = h_hat[t-1] + 0.011 * q_tot[t]",
          "qFormula": "q[t] = 0.011 * e[t] * (h[t] - h_hat[t])"
        },
        "init": {
          "q_tot_init": 0,
          "h": 6,
          "h_hat": 5.9,
          "e": 0.0,
          "q": 0.0,
          "iin": 0.0
        },
        "inflow": {
          "0": 7.82,
          "1": 9.64,
          "2": 6.47,
          "3": 8.1,
          "4": 5.93,
          "5": 7.41,
          "6": 5.55,
          "7": 9.2,
          "8": 6.88,
          "9": 7.73,
          "10": 8.14,
          "11": 6.32,
          "12": 7.99,
          "13": 9.61,
          "14": 6.15,
          "15": 5.87,
          "16": 9.48,
          "17": 8.0,
          "18": 5.62,
          "19": 6.76,
          "20": 6.1,
          "21": 7.38,
          "22": 9.17,
          "23": 8.73,
          "24": 6.97,
          "25": 7.88,
          "26": 9.39,
          "27": 6.51,
          "28": 7.24,
          "29": 8.33
        }
      },
      "L": {
        "ranges": {
          "h": {
            "min": 2,
            "max": 15
          },
          "h_hat": {
            "min": 1,
            "max": 10
          },
          "q": {
            "min": 0,
            "max": 100
          },
          "e": {
            "min": 0,
            "max": 0
          },
          "n": {
            "max": 0
          },
          "delta_q": {
            "min": 0,
            "max": 20
          },
          "delta_h": {
            "min": 0,
            "max": 20
          },
          "delta_e": {
            "min": 0,
            "max": 20
          }
        },
        "functions": {
          "hDynamics": "h[t] = h[t-1] + (iin[t] - q_tot[t]) * 0.012",
          "hDownstream": "h_hat[t]  = h_hat[t-1] + 0.012 * q_tot[t]",
          "qFormula": "q[t] = 0.012 * e[t] * (h[t] - h_hat[t])"
        },
        "init": {
          "q_tot_init": 0,
          "h": 6,
          "h_hat": 5.9,
          "e": 0.0,
          "q": 0.0,
          "iin": 0.0
        },
        "inflow": {
          "0": 7.82,
          "1": 9.64,
          "2": 6.47,
          "3": 8.1,
          "4": 5.93,
          "5": 7.41,
          "6": 5.55,
          "7": 9.2,
          "8": 6.88,
          "9": 7.73,
          "10": 8.14,
          "11": 6.32,
          "12": 7.99,
          "13": 9.61,
          "14": 6.15,
          "15": 5.87,
          "16": 9.48,
          "17": 8.0,
          "18": 5.62,
          "19": 6.76,
          "20": 6.1,
          "21": 7.38,
          "22": 9.17,
          "23": 8.73,
          "24": 6.97,
          "25": 7.88,
          "26": 9.39,
          "27": 6.51,
          "28": 7.24,
          "29": 8.33
        }
      }
    }
  },
  "topology_config": [
    {
      "stationId": "A",
      "stationName": "闸站A",
      "stationType": "gate",
      "tuopo": [
        {
          "to": "B",
          "loss": 1.0,
          "delay_sec": 600
        }
      ],
      "h": {
        "min": 5,
        "max": 15
      },
      "q": {
        "min": 0,
        "max": 200
      }
    },
    {
      "stationId": "B",
      "stationName": "闸站B",
      "stationType": "gate",
      "tuopo": [
        {
          "to": "C",
          "loss": 1.0,
          "delay_sec": 600
        }
      ],
      "h": {
        "min": 4,
        "max": 12
      },
      "q": {
        "min": 0,
        "max": 150
      }
    },
    {
      "stationId": "C",
      "stationName": "闸站C",
      "stationType": "gate",
      "tuopo": [
        {
          "to": "D",
          "loss": 1.0,
          "delay_sec": 600
        }
      ],
      "h": {
        "min": 4,
        "max": 12
      },
      "q": {
        "min": 0,
        "max": 150
      }
    },
    {
      "stationId": "D",
      "stationName": "闸站D",
      "stationType": "gate",
      "tuopo": [
        {
          "to": "E",
          "loss": 1.0,
          "delay_sec": 300
        }
      ],
      "h": {
        "min": 2,
        "max": 6
      },
      "q": {
        "min": 0,
        "max": 200
      }
    },
    {
      "stationId": "E",
      "stationName": "闸站E",
      "stationType": "gate",
      "tuopo": [
        {
          "to": "F",
          "loss": 1.0,
          "delay_sec": 300
        }
      ],
      "h": {
        "min": 2,
        "max": 6
      },
      "q": {
        "min": 0,
        "max": 200
      }
    },
    {
      "stationId": "F",
      "stationName": "闸站F",
      "stationType": "gate",
      "tuopo": [
        {
          "to": "G",
          "loss": 1.0,
          "delay_sec": 300
        }
      ],
      "h": {
        "min": 2,
        "max": 8
      },
      "q": {
        "min": 0,
        "max": 300
      }
    },
    {
      "stationId": "G",
      "stationName": "闸站G",
      "stationType": "gate",
      "tuopo": [
        {
          "to": "H",
          "loss": 0.99,
          "delay_sec": 300
        }
      ],
      "h": {
        "min": 2,
        "max": 10
      },
      "q": {
        "min": 0,
        "max": 250
      }
    },
    {
      "stationId": "H",
      "stationName": "闸站H",
      "stationType": "gate",
      "tuopo": [
        {
          "to": "I",
          "loss": 1.0,
          "delay_sec": 600
        }
      ],
      "h": {
        "min": 4,
        "max": 12
      },
      "q": {
        "min": 0,
        "max": 150
      }
    },
    {
      "stationId": "I",
      "stationName": "闸站I",
      "stationType": "gate",
      "tuopo": [
        {
          "to": "J",
          "loss": 0.99,
          "delay_sec": 300
        }
      ],
      "h": {
        "min": 0,
        "max": 10
      },
      "q": {
        "min": 0,
        "max": 999
      }
    },
    {
      "stationId": "J",
      "stationName": "闸站J",
      "stationType": "gate",
      "tuopo": [
        {
          "to": "K",
          "loss": 0.99,
          "delay_sec": 300
        }
      ],
      "h": {
        "min": 0,
        "max": 10
      },
      "q": {
        "min": 0,
        "max": 999
      }
    },
    {
      "stationId": "K",
      "stationName": "闸站K",
      "stationType": "gate",
      "tuopo": [
        {
          "to": "L",
          "loss": 0.99,
          "delay_sec": 300
        }
      ],
      "h": {
        "min": 0,
        "max": 5
      },
      "q": {
        "min": 0,
        "max": 80
      }
    },
    {
      "stationId": "L",
      "stationName": "闸站L",
      "stationType": "gate",
      "tuopo": [],
      "h": {
        "min": 0,
        "max": 5
      },
      "q": {
        "min": 0,
        "max": 80
      }
    }
  ]
}

```

